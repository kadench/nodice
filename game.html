<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NoDice Game</title>
    <link rel="icon" type="image/x-icon" href="assets/dicedn.png" />
    <link rel="stylesheet" href="./css/style.css">

    <!-- Game music not written yet  -->
    <!-- <script src="js/game_music.js" defer></script> -->

    <!-- JS Module Imports -->
    <!-- <script type="module">
        import c_gameStart from "./js/c_GameStart.js";

        // read player count from query string and pass to game start
        // const params = new URLSearchParams(window.location.search);
        // let players = parseInt(params.get("players"), 10);
        if (!Number.isFinite(players) || players < 1) players = 4;
        if (players > 16) players = 16;

        new c_gameStart().start(players);
    </script>  -->
</head>
<body>
    <h1 id="playerTitle">Player 1 Turn</h1>

    <div id="dice-container">
        <!-- six dice buttons for manual interaction -->
        <!-- okay... this layout sucks. changing -->
        <!-- wait why does this exist? it doesn't do anything. nvm, it just is used to be read first, why can't we just make it in js first? -->
        <div class="dice-display">
            <div class="dice-color"></div>
            <div class="dice-numb"></div>
        </div>
        <div class="dice-display">
            <div class="dice-color"></div>
            <div class="dice-numb"></div>
        </div>
        <div class="dice-display">
            <div class="dice-color"></div>
            <div class="dice-numb"></div>
        </div>
        <div class="dice-display">
            <div class="dice-color"></div>
            <div class="dice-numb"></div>
        </div>
        <div class="dice-display">
            <div class="dice-color"></div>
            <div class="dice-numb"></div>
        </div>
        <div class="dice-display">
            <div class="dice-color"></div>
            <div class="dice-numb"></div>
        </div>
    </div>

    <button id="roll-btn">Roll All Dice</button>
    <button id="select-all-btn">Select All</button>
    <button id="bank-btn">Bank Score</button>
    <button id="endturn-btn">End Turn</button>

    <h2>Score: <span id="score">0</span></h2>
    <h2>Run Score: <span id="runscore">0</span></h2>

    <div id="message"></div>
    <div id="players"></div>

    <script type="module">
        import c_gameStart from "./js/c_GameStart.js";

        const params = new URLSearchParams(window.location.search);
        let players = parseInt(params.get("players"), 10);
        if (!Number.isFinite(players) || players < 1) players = 4;
        if (players > 16) players = 16;

        const custom = params.get("custom") === "1";
        new c_gameStart().start(players, custom);
    </script>
</body>
</html>
